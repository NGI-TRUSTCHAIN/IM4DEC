## API Report File for "@veramo/selective-disclosure"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

import { AbstractMessageHandler } from '@veramo/message-handler';
import { IAgentContext } from '@veramo/core-types';
import { IAgentPlugin } from '@veramo/core-types';
import { ICredentialIssuer } from '@veramo/core-types';
import { IDataStoreORM } from '@veramo/core-types';
import { IDIDManager } from '@veramo/core-types';
import { IKeyManager } from '@veramo/core-types';
import { IMessageHandler } from '@veramo/core-types';
import { IPluginMethodMap } from '@veramo/core-types';
import { Message } from '@veramo/message-handler';
import { UniqueVerifiableCredential } from '@veramo/core-types';
import { VerifiablePresentation } from '@veramo/core-types';

// @beta
export interface ICreateProfileCredentialsArgs {
    holder: string;
    name?: string;
    picture?: string;
    save: boolean;
    send: boolean;
    url?: string;
    verifier?: string;
}

// @beta
export interface ICreateSelectiveDisclosureRequestArgs {
    // (undocumented)
    data: ISelectiveDisclosureRequest;
}

// @beta
export interface ICredentialRequestInput {
    claimType: string;
    claimValue?: string;
    credentialContext?: string;
    credentialType?: string;
    essential?: boolean;
    issuers?: Issuer[];
    reason?: string;
}

// @beta
export interface ICredentialsForSdr extends ICredentialRequestInput {
    // (undocumented)
    credentials: UniqueVerifiableCredential[];
}

// @beta
export interface IGetVerifiableCredentialsForSdrArgs {
    did?: string;
    sdr: Omit<ISelectiveDisclosureRequest, 'issuer'>;
}

// @beta
export interface IPresentationValidationResult {
    // (undocumented)
    claims: ICredentialsForSdr[];
    // (undocumented)
    valid: boolean;
}

// @beta
export interface ISelectiveDisclosure extends IPluginMethodMap {
    // (undocumented)
    createProfilePresentation(args: ICreateProfileCredentialsArgs, context: IAgentContext<ICredentialIssuer & IDIDManager>): Promise<VerifiablePresentation>;
    // (undocumented)
    createSelectiveDisclosureRequest(args: ICreateSelectiveDisclosureRequestArgs, context: IAgentContext<IDIDManager & IKeyManager>): Promise<string>;
    // (undocumented)
    getVerifiableCredentialsForSdr(args: IGetVerifiableCredentialsForSdrArgs, context: IAgentContext<IDataStoreORM>): Promise<Array<ICredentialsForSdr>>;
    // (undocumented)
    validatePresentationAgainstSdr(args: IValidatePresentationAgainstSdrArgs, context: IAgentContext<{}>): Promise<IPresentationValidationResult>;
}

// @beta
export interface ISelectiveDisclosureRequest {
    claims: ICredentialRequestInput[];
    credentials?: string[];
    issuer: string;
    replyUrl?: string;
    subject?: string;
    // (undocumented)
    tag?: string;
}

// @beta
export interface Issuer {
    did: string;
    url: string;
}

// @beta
export interface IValidatePresentationAgainstSdrArgs {
    // (undocumented)
    presentation: VerifiablePresentation;
    // (undocumented)
    sdr: ISelectiveDisclosureRequest;
}

// @beta
export const MessageTypes: {
    sdr: string;
};

// @beta
export class SdrMessageHandler extends AbstractMessageHandler {
    // (undocumented)
    handle(message: Message, context: IAgentContext<IMessageHandler>): Promise<Message>;
}

// @beta
export class SelectiveDisclosure implements IAgentPlugin {
    constructor();
    createProfilePresentation(args: ICreateProfileCredentialsArgs, context: IAgentContext<ICredentialIssuer & IDIDManager>): Promise<VerifiablePresentation>;
    createSelectiveDisclosureRequest(args: ICreateSelectiveDisclosureRequestArgs, context: IAgentContext<IDIDManager & IKeyManager>): Promise<string>;
    getVerifiableCredentialsForSdr(args: IGetVerifiableCredentialsForSdrArgs, context: IAgentContext<IDataStoreORM>): Promise<ICredentialsForSdr[]>;
    // (undocumented)
    readonly methods: ISelectiveDisclosure;
    // (undocumented)
    readonly schema: {
        components: {
            schemas: {
                ICreateProfileCredentialsArgs: {
                    type: string;
                    properties: {
                        holder: {
                            type: string;
                            description: string;
                        };
                        verifier: {
                            type: string;
                            description: string;
                        };
                        name: {
                            type: string;
                            description: string;
                        };
                        picture: {
                            type: string;
                            description: string;
                        };
                        url: {
                            type: string;
                            description: string;
                        };
                        save: {
                            type: string; /**
                            * This class adds support for creating
                            * {@link https://github.com/uport-project/specs/blob/develop/flows/selectivedisclosure.md | Selective Disclosure}
                            * requests and interpret the responses received.
                            *
                            * This implementation of the uPort protocol uses
                            * {@link https://www.w3.org/TR/vc-data-model/#presentations | W3C Presentation}
                            * as the response encoding instead of a `shareReq`.
                            *
                            * @beta This API may change without a BREAKING CHANGE notice.
                            */
                            description: string;
                        };
                        send: {
                            type: string;
                            description: string;
                        };
                    };
                    required: string[];
                    description: string;
                };
                VerifiablePresentation: {
                    type: string;
                    properties: {
                        proof: {
                            $ref: string;
                        };
                        holder: {
                            type: string;
                        };
                        verifiableCredential: {
                            type: string;
                            items: {
                                $ref: string;
                            };
                        };
                        type: {
                            anyOf: ({
                                type: string;
                                items: {
                                    type: string; /**
                                    * Creates a Selective disclosure request, encoded as a JWT.
                                    *
                                    * @remarks See
                                    *   {@link https://github.com/uport-project/specs/blob/develop/flows/selectivedisclosure.md | Selective Disclosure}
                                    *
                                    * @param args - The param object with the properties necessary to create the request. See
                                    *   {@link ISelectiveDisclosureRequest}
                                    * @param context - *RESERVED* This is filled by the framework when the method is called.
                                    *
                                    * @beta This API may change without a BREAKING CHANGE notice.
                                    */
                                };
                            } | {
                                type: string;
                                items?: undefined;
                            })[];
                        };
                        "@context": {
                            $ref: string;
                        };
                        verifier: {
                            type: string;
                            items: {
                                type: string;
                            };
                        };
                        issuanceDate: {
                            type: string;
                        };
                        expirationDate: {
                            type: string;
                        };
                        id: {
                            type: string;
                        };
                    };
                    required: string[];
                    description: string;
                };
                ProofType: {
                    type: string;
                    properties: {
                        type: {
                            type: string;
                        };
                    };
                    description: string;
                };
                W3CVerifiableCredential: {
                    anyOf: {
                        $ref: string;
                    }[];
                    description: string;
                };
                VerifiableCredential: {
                    type: string;
                    properties: {
                        proof: {
                            $ref: string;
                        };
                        issuer: {
                            $ref: string;
                        };
                        credentialSubject: {
                            $ref: string;
                        };
                        type: {
                            anyOf: ({
                                type: string;
                                items: {
                                    type: string;
                                };
                            } | {
                                type: string;
                                items?: undefined;
                            })[];
                        };
                        "@context": {
                            $ref: string;
                        };
                        issuanceDate: {
                            type: string;
                        };
                        expirationDate: {
                            type: string;
                        };
                        credentialStatus: {
                            $ref: string;
                        };
                        id: {
                            type: string;
                        };
                    };
                    required: string[];
                    description: string;
                };
                IssuerType: {
                    anyOf: ({
                        type: string;
                        properties: {
                            id: {
                                type: string;
                            };
                        };
                        required: string[];
                    } | {
                        type: string;
                        properties?: undefined;
                        required?: undefined;
                    })[];
                    description: string;
                };
                CredentialSubject: {
                    type: string;
                    properties: {
                        id: {
                            type: string;
                        };
                    };
                    description: string;
                };
                ContextType: {
                    anyOf: ({
                        type: string;
                        items?: undefined;
                    } | {
                        type: string;
                        items: {
                            anyOf: {
                                type: string;
                            }[];
                        };
                    })[];
                    description: string;
                };
                CredentialStatusReference: {
                    type: string;
                    properties: {
                        id: {
                            type: string;
                        };
                        type: {
                            type: string;
                        };
                    };
                    required: string[];
                    description: string;
                };
                CompactJWT: {
                    type: string;
                    description: string;
                };
                ICreateSelectiveDisclosureRequestArgs: {
                    type: string;
                    properties: {
                        data: {
                            $ref: string;
                        };
                    };
                    required: string[];
                    description: string;
                };
                ISelectiveDisclosureRequest: {
                    type: string;
                    properties: {
                        issuer: {
                            type: string;
                            description: string;
                        };
                        subject: {
                            type: string;
                            description: string;
                        };
                        replyUrl: {
                            type: string;
                            description: string;
                        };
                        tag: {
                            type: string;
                        };
                        claims: {
                            type: string;
                            items: {
                                $ref: string;
                            };
                            description: string;
                        };
                        credentials: {
                            type: string;
                            items: {
                                type: string;
                            };
                            description: string;
                        };
                    };
                    required: string[];
                    description: string;
                };
                ICredentialRequestInput: {
                    type: string;
                    properties: {
                        reason: {
                            type: string;
                            description: string;
                        };
                        essential: {
                            type: string;
                            description: string;
                        };
                        credentialType: {
                            type: string;
                            description: string;
                        };
                        credentialContext: {
                            type: string;
                            description: string;
                        };
                        claimType: {
                            type: string;
                            description: string;
                        };
                        claimValue: {
                            type: string;
                            description: string;
                        };
                        issuers: {
                            type: string;
                            items: {
                                $ref: string;
                            };
                            description: string;
                        };
                    };
                    required: string[];
                    description: string;
                };
                Issuer: {
                    type: string;
                    properties: {
                        did: {
                            type: string;
                            description: string;
                        };
                        url: {
                            type: string;
                            description: string;
                        };
                    };
                    required: string[];
                    description: string;
                };
                IGetVerifiableCredentialsForSdrArgs: {
                    type: string;
                    properties: {
                        sdr: {
                            type: string;
                            properties: {
                                subject: {
                                    type: string;
                                    description: string;
                                };
                                replyUrl: {
                                    type: string;
                                    description: string;
                                };
                                tag: {
                                    type: string;
                                };
                                claims: {
                                    type: string;
                                    items: {
                                        $ref: string;
                                    };
                                    description: string;
                                };
                                credentials: {
                                    type: string;
                                    items: {
                                        type: string;
                                    };
                                    description: string;
                                };
                            };
                            required: string[];
                            description: string;
                        };
                        did: {
                            type: string;
                            description: string;
                        };
                    };
                    required: string[];
                    description: string;
                };
                ICredentialsForSdr: {
                    type: string;
                    properties: {
                        reason: {
                            type: string;
                            description: string;
                        };
                        essential: {
                            type: string;
                            description: string;
                        };
                        credentialType: {
                            type: string;
                            description: string;
                        };
                        credentialContext: {
                            type: string;
                            description: string;
                        };
                        claimType: {
                            type: string;
                            description: string;
                        };
                        claimValue: {
                            type: string;
                            description: string;
                        };
                        issuers: {
                            type: string;
                            items: {
                                $ref: string;
                            };
                            description: string;
                        };
                        credentials: {
                            type: string;
                            items: {
                                $ref: string;
                            };
                        };
                    };
                    required: string[];
                    description: string;
                };
                UniqueVerifiableCredential: {
                    type: string;
                    properties: {
                        hash: {
                            type: string;
                        };
                        verifiableCredential: {
                            $ref: string;
                        };
                    };
                    required: string[];
                    description: string;
                };
                IValidatePresentationAgainstSdrArgs: {
                    type: string;
                    properties: {
                        presentation: {
                            $ref: string;
                        };
                        sdr: {
                            $ref: string;
                        };
                    };
                    required: string[];
                    description: string;
                };
                IPresentationValidationResult: {
                    type: string;
                    properties: {
                        valid: {
                            type: string;
                        };
                        claims: {
                            type: string;
                            items: {
                                $ref: string;
                            };
                        };
                    };
                    required: string[];
                    description: string;
                };
            };
            methods: {
                createProfilePresentation: {
                    description: string;
                    arguments: {
                        $ref: string;
                    };
                    returnType: {
                        $ref: string;
                    };
                };
                createSelectiveDisclosureRequest: {
                    description: string;
                    arguments: {
                        $ref: string;
                    };
                    returnType: {
                        type: string;
                    };
                };
                getVerifiableCredentialsForSdr: {
                    description: string;
                    arguments: {
                        $ref: string;
                    };
                    returnType: {
                        type: string;
                        items: {
                            $ref: string;
                        };
                    };
                };
                validatePresentationAgainstSdr: {
                    description: string;
                    arguments: {
                        $ref: string;
                    };
                    returnType: {
                        $ref: string;
                    };
                };
            };
        };
    };
    validatePresentationAgainstSdr(args: IValidatePresentationAgainstSdrArgs, context: IAgentContext<{}>): Promise<IPresentationValidationResult>;
}

```
