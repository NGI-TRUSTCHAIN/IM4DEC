## API Report File for "@veramo/key-manager"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

import { ECDH } from 'did-jwt';
import { IAgentPlugin } from '@veramo/core-types';
import { IKey } from '@veramo/core-types';
import { IKeyManager } from '@veramo/core-types';
import { IKeyManagerCreateArgs } from '@veramo/core-types';
import { IKeyManagerDecryptJWEArgs } from '@veramo/core-types';
import { IKeyManagerDeleteArgs } from '@veramo/core-types';
import { IKeyManagerEncryptJWEArgs } from '@veramo/core-types';
import { IKeyManagerGetArgs } from '@veramo/core-types';
import { IKeyManagerSharedSecretArgs } from '@veramo/core-types';
import { IKeyManagerSignArgs } from '@veramo/core-types';
import { IKeyManagerSignEthTXArgs } from '@veramo/core-types';
import { IKeyManagerSignJWTArgs } from '@veramo/core-types';
import { ManagedKeyInfo } from '@veramo/core-types';
import { MinimalImportableKey } from '@veramo/core-types';
import { RequireOnly } from '@veramo/core-types';
import { TKeyType } from '@veramo/core-types';
import { TypedDataDomain } from 'ethers';
import { TypedDataField } from 'ethers';

// @public
export abstract class AbstractKeyManagementSystem {
    // (undocumented)
    abstract createKey(args: {
        type: TKeyType;
        meta?: any;
    }): Promise<ManagedKeyInfo>;
    // (undocumented)
    abstract deleteKey(args: {
        kid: string;
    }): Promise<boolean>;
    // (undocumented)
    abstract importKey(args: Exclude<MinimalImportableKey, 'kms'>): Promise<ManagedKeyInfo>;
    // (undocumented)
    abstract listKeys(): Promise<Array<ManagedKeyInfo>>;
    // (undocumented)
    abstract sharedSecret(args: {
        myKeyRef: Pick<IKey, 'kid'>;
        theirKey: Pick<IKey, 'publicKeyHex' | 'type'>;
    }): Promise<string>;
    // (undocumented)
    abstract sign(args: {
        keyRef: Pick<IKey, 'kid'>;
        algorithm?: string;
        data: Uint8Array;
        [x: string]: any;
    }): Promise<string>;
    // @deprecated (undocumented)
    signEthTX({ key, transaction }: {
        key: Pick<IKey, 'kid'>;
        transaction: object;
    }): Promise<string>;
    // @deprecated (undocumented)
    signJWT({ key, data }: {
        key: Pick<IKey, 'kid'>;
        data: string | Uint8Array;
    }): Promise<string>;
}

// @public
export abstract class AbstractKeyStore {
    // (undocumented)
    abstract deleteKey(args: {
        kid: string;
    }): Promise<boolean>;
    // (undocumented)
    abstract getKey(args: {
        kid: string;
    }): Promise<IKey>;
    // (undocumented)
    abstract importKey(args: Partial<IKey>): Promise<boolean>;
    // (undocumented)
    abstract listKeys(args: {}): Promise<Array<ManagedKeyInfo>>;
}

// @public
export abstract class AbstractPrivateKeyStore {
    // (undocumented)
    abstract deleteKey(args: {
        alias: string;
    }): Promise<boolean>;
    // (undocumented)
    abstract getKey(args: {
        alias: string;
    }): Promise<ManagedPrivateKey>;
    // (undocumented)
    abstract importKey(args: ImportablePrivateKey): Promise<ManagedPrivateKey>;
    // (undocumented)
    abstract listKeys(args: {}): Promise<Array<ManagedPrivateKey>>;
}

// @public
export abstract class AbstractSecretBox {
    // (undocumented)
    abstract decrypt(encryptedMessageHex: string): Promise<string>;
    // (undocumented)
    abstract encrypt(message: string): Promise<string>;
}

// @beta
export type Eip712Payload = {
    domain: TypedDataDomain;
    types: Record<string, TypedDataField[]>;
    primaryType: string;
    message: Record<string, any>;
};

// @public
export type ImportablePrivateKey = RequireOnly<ManagedPrivateKey, 'privateKeyHex' | 'type'>;

// @public
export class KeyManager implements IAgentPlugin {
    constructor(options: {
        store: AbstractKeyStore;
        kms: Record<string, AbstractKeyManagementSystem>;
    });
    // (undocumented)
    createX25519ECDH(secretKeyRef: string): ECDH;
    // (undocumented)
    keyManagerCreate(args: IKeyManagerCreateArgs): Promise<ManagedKeyInfo>;
    // (undocumented)
    keyManagerDecryptJWE({ kid, data }: IKeyManagerDecryptJWEArgs): Promise<string>;
    // (undocumented)
    keyManagerDelete({ kid }: IKeyManagerDeleteArgs): Promise<boolean>;
    // (undocumented)
    keyManagerEncryptJWE({ kid, to, data }: IKeyManagerEncryptJWEArgs): Promise<string>;
    // (undocumented)
    keyManagerGet({ kid }: IKeyManagerGetArgs): Promise<IKey>;
    // (undocumented)
    keyManagerGetKeyManagementSystems(): Promise<Array<string>>;
    // (undocumented)
    keyManagerImport(key: MinimalImportableKey): Promise<ManagedKeyInfo>;
    // (undocumented)
    keyManagerSharedSecret(args: IKeyManagerSharedSecretArgs): Promise<string>;
    // (undocumented)
    keyManagerSign(args: IKeyManagerSignArgs): Promise<string>;
    // (undocumented)
    keyManagerSignEthTX({ kid, transaction }: IKeyManagerSignEthTXArgs): Promise<string>;
    // (undocumented)
    keyManagerSignJWT({ kid, data }: IKeyManagerSignJWTArgs): Promise<string>;
    readonly methods: IKeyManager;
    // (undocumented)
    readonly schema: {
        components: {
            schemas: {
                IKeyManagerCreateArgs: {
                    type: string;
                    properties: {
                        type: {
                            $ref: string;
                            description: string;
                        };
                        kms: {
                            type: string;
                            description: string;
                        };
                        meta: {
                            $ref: string;
                            description: string;
                        };
                    };
                    required: string[];
                    description: string;
                };
                TKeyType: {
                    type: string;
                    enum: string[];
                    description: string;
                };
                KeyMetadata: {
                    type: string;
                    properties: {
                        algorithms: {
                            type: string;
                            items: {
                                $ref: string;
                            };
                        };
                    };
                    description: string;
                };
                TAlg: {
                    type: string;
                    description: string;
                };
                ManagedKeyInfo: {
                    type: string;
                    properties: {
                        kid: {
                            type: string;
                            description: string;
                        };
                        kms: {
                            type: string;
                            description: string;
                        };
                        type: {
                            $ref: string;
                            description: string;
                        };
                        publicKeyHex: {
                            type: string;
                            description: string;
                        };
                        meta: {
                            anyOf: ({
                                $ref: string;
                                type?: undefined;
                            } | {
                                type: string;
                                $ref?: undefined;
                            })[];
                            description: string;
                        };
                    };
                    required: string[];
                    description: string;
                };
                IKeyManagerDecryptJWEArgs: {
                    type: string;
                    properties: {
                        kid: {
                            type: string;
                            description: string;
                        };
                        data: {
                            type: string;
                            description: string;
                        };
                    };
                    required: string[];
                    description: string;
                };
                IKeyManagerDeleteArgs: {
                    type: string;
                    properties: {
                        kid: {
                            type: string;
                            description: string;
                        };
                    };
                    required: string[];
                    description: string;
                };
                IKeyManagerEncryptJWEArgs: {
                    type: string;
                    properties: {
                        kid: {
                            type: string;
                            description: string;
                        };
                        to: {
                            type: string;
                            properties: {
                                kid: {
                                    type: string;
                                    description: string;
                                };
                                type: {
                                    $ref: string;
                                    description: string;
                                };
                                publicKeyHex: {
                                    type: string;
                                    description: string;
                                };
                                privateKeyHex: {
                                    type: string;
                                    description: string;
                                };
                                meta: {
                                    anyOf: ({
                                        $ref: string;
                                        type?: undefined;
                                    } | {
                                        type: string;
                                        $ref?: undefined;
                                    })[];
                                    description: string;
                                };
                            };
                            required: string[];
                            description: string;
                        };
                        data: {
                            type: string;
                            description: string;
                        };
                    };
                    required: string[];
                    description: string;
                };
                IKeyManagerGetArgs: {
                    type: string;
                    properties: {
                        kid: {
                            type: string;
                            description: string;
                        };
                    };
                    required: string[];
                    description: string;
                };
                IKey: {
                    type: string;
                    properties: {
                        kid: {
                            type: string;
                            description: string;
                        };
                        kms: {
                            type: string;
                            description: string;
                        };
                        type: {
                            $ref: string;
                            description: string;
                        };
                        publicKeyHex: {
                            type: string;
                            description: string;
                        };
                        privateKeyHex: {
                            type: string;
                            description: string;
                        };
                        meta: {
                            anyOf: ({
                                $ref: string;
                                type?: undefined;
                            } | {
                                type: string;
                                $ref?: undefined;
                            })[];
                            description: string;
                        };
                    };
                    required: string[];
                    description: string;
                };
                MinimalImportableKey: {
                    $ref: string;
                    description: string;
                };
                "RequireOnly<IKey,(\"privateKeyHex\"|\"type\"|\"kms\")>": {
                    type: string;
                    properties: {
                        kid: {
                            type: string;
                            description: string;
                        };
                        kms: {
                            type: string;
                            description: string;
                        };
                        type: {
                            $ref: string;
                            description: string;
                        };
                        publicKeyHex: {
                            type: string;
                            description: string;
                        };
                        privateKeyHex: {
                            type: string;
                            description: string;
                        };
                        meta: {
                            anyOf: ({
                                $ref: string;
                                type?: undefined;
                            } | {
                                type: string;
                                $ref?: undefined;
                            })[];
                            description: string;
                        };
                    };
                    description: string;
                };
                IKeyManagerSharedSecretArgs: {
                    type: string;
                    properties: {
                        secretKeyRef: {
                            type: string;
                            description: string;
                        };
                        publicKey: {
                            type: string;
                            properties: {
                                publicKeyHex: {
                                    type: string;
                                    description: string;
                                };
                                type: {
                                    $ref: string;
                                    description: string;
                                };
                            };
                            required: string[];
                            description: string;
                        };
                    };
                    required: string[];
                    description: string;
                };
                IKeyManagerSignArgs: {
                    type: string;
                    properties: {
                        keyRef: {
                            type: string;
                            description: string;
                        };
                        algorithm: {
                            type: string;
                            description: string;
                        };
                        data: {
                            type: string;
                            description: string;
                        };
                        encoding: {
                            type: string;
                            enum: string[];
                            description: string;
                        };
                    };
                    required: string[];
                    description: string;
                };
                IKeyManagerSignEthTXArgs: {
                    type: string;
                    properties: {
                        kid: {
                            type: string;
                            description: string;
                        };
                        transaction: {
                            type: string;
                            description: string;
                        };
                    };
                    required: string[];
                    description: string;
                };
                IKeyManagerSignJWTArgs: {
                    type: string;
                    properties: {
                        kid: {
                            type: string;
                            description: string;
                        };
                        data: {
                            anyOf: ({
                                type: string;
                                properties?: undefined;
                                required?: undefined;
                                additionalProperties?: undefined;
                            } | {
                                type: string;
                                properties: {
                                    BYTES_PER_ELEMENT: {
                                        type: string;
                                    };
                                    buffer: {
                                        anyOf: ({
                                            type: string;
                                            properties: {
                                                byteLength: {
                                                    type: string;
                                                };
                                            };
                                            required: string[];
                                        } | {
                                            type?: undefined;
                                            properties?: undefined;
                                            required?: undefined;
                                        })[];
                                    };
                                    byteLength: {
                                        type: string;
                                    };
                                    byteOffset: {
                                        type: string;
                                    };
                                    length: {
                                        type: string;
                                    };
                                };
                                required: string[];
                                additionalProperties: {
                                    type: string;
                                };
                            })[];
                            description: string;
                        };
                    };
                    required: string[];
                    description: string;
                };
            };
            methods: {
                keyManagerCreate: {
                    description: string;
                    arguments: {
                        $ref: string;
                    };
                    returnType: {
                        $ref: string;
                    };
                };
                keyManagerDecryptJWE: {
                    description: string;
                    arguments: {
                        $ref: string;
                    };
                    returnType: {
                        type: string;
                    };
                };
                keyManagerDelete: {
                    description: string;
                    arguments: {
                        $ref: string;
                    };
                    returnType: {
                        type: string;
                    };
                };
                keyManagerEncryptJWE: {
                    description: string;
                    arguments: {
                        $ref: string;
                    };
                    returnType: {
                        type: string;
                    };
                };
                keyManagerGet: {
                    description: string;
                    arguments: {
                        $ref: string;
                    };
                    returnType: {
                        $ref: string;
                    };
                };
                keyManagerGetKeyManagementSystems: {
                    description: string;
                    arguments: {
                        type: string;
                    };
                    returnType: {
                        type: string;
                        items: {
                            type: string;
                        };
                    };
                };
                keyManagerImport: {
                    description: string;
                    arguments: {
                        $ref: string;
                    };
                    returnType: {
                        $ref: string;
                    };
                };
                keyManagerSharedSecret: {
                    description: string;
                    arguments: {
                        $ref: string;
                    };
                    returnType: {
                        type: string;
                    };
                };
                keyManagerSign: {
                    description: string;
                    arguments: {
                        $ref: string;
                    };
                    returnType: {
                        type: string;
                    };
                };
                keyManagerSignEthTX: {
                    description: string;
                    arguments: {
                        $ref: string;
                    };
                    returnType: {
                        type: string;
                    };
                };
                keyManagerSignJWT: {
                    description: string;
                    arguments: {
                        $ref: string;
                    };
                    returnType: {
                        type: string;
                    };
                };
            };
        };
    };
}

// @public
export interface ManagedPrivateKey {
    // (undocumented)
    alias: string;
    // (undocumented)
    privateKeyHex: string;
    // (undocumented)
    type: TKeyType;
}

// @public
export class MemoryKeyStore extends AbstractKeyStore {
    // (undocumented)
    deleteKey({ kid }: {
        kid: string;
    }): Promise<boolean>;
    // (undocumented)
    getKey({ kid }: {
        kid: string;
    }): Promise<IKey>;
    // (undocumented)
    importKey(args: IKey): Promise<boolean>;
    // (undocumented)
    listKeys(args: {}): Promise<Exclude<IKey, 'privateKeyHex'>[]>;
}

// @public
export class MemoryPrivateKeyStore extends AbstractPrivateKeyStore {
    // (undocumented)
    deleteKey({ alias }: {
        alias: string;
    }): Promise<boolean>;
    // (undocumented)
    getKey({ alias }: {
        alias: string;
    }): Promise<ManagedPrivateKey>;
    // (undocumented)
    importKey(args: ImportablePrivateKey): Promise<ManagedPrivateKey>;
    // (undocumented)
    listKeys(): Promise<Array<ManagedPrivateKey>>;
}

```
